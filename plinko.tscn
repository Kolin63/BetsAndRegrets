[gd_scene load_steps=40 format=3 uid="uid://du31jy3465by3"]

[ext_resource type="Script" path="res://plinko.gd" id="1_hghkl"]
[ext_resource type="Script" path="res://peg.gd" id="2_73qfo"]
[ext_resource type="Texture2D" uid="uid://dvmg3d63bwrrs" path="res://HACKBALL.png" id="2_dre8r"]
[ext_resource type="Texture2D" uid="uid://ddbbho8f37w81" path="res://HACKPIN.png" id="4_obq3l"]
[ext_resource type="Script" path="res://bucket.gd" id="5_uq8cn"]
[ext_resource type="Texture2D" uid="uid://b55accqbfi5a3" path="res://HACKBUCKET.png" id="6_3dtiq"]
[ext_resource type="FontFile" uid="uid://dlkt17p3aqn0n" path="res://3XAY-Sans-Regular.ttf" id="7_0267x"]
[ext_resource type="Texture2D" uid="uid://gbow77wfi4gu" path="res://Background.png" id="8_n4je3"]
[ext_resource type="Texture2D" uid="uid://64i8xwmvx378" path="res://icon.svg" id="9_edg7b"]
[ext_resource type="Texture2D" uid="uid://cyjuxg36tkphq" path="res://HAAC_Art/PNGHACKDead1.png" id="10_aw83s"]
[ext_resource type="Texture2D" uid="uid://7t7uyrusept3" path="res://HAAC_Art/PNGHACKHappy1.png" id="10_cqxkd"]
[ext_resource type="Script" path="res://NextDay.gd" id="10_y3yn1"]
[ext_resource type="Texture2D" uid="uid://jx04j3bhrfdc" path="res://HAAC_Art/PNGHACKDevilNormal.png" id="11_oatle"]
[ext_resource type="Texture2D" uid="uid://d2q23uo3vl2lr" path="res://HACKSOUL1.png" id="11_tn2iv"]
[ext_resource type="Texture2D" uid="uid://jf6turmn3icr" path="res://HACKSOUL2.png" id="12_al33d"]
[ext_resource type="Texture2D" uid="uid://bl2dv0l6xch5e" path="res://HAAC_Art/PNGHACKDevilTalkClosed.png" id="12_ttu80"]
[ext_resource type="Texture2D" uid="uid://ctjr18q46xla8" path="res://HAAC_Art/PNGHACKDevilTalkOpen.png" id="13_0qccx"]
[ext_resource type="Texture2D" uid="uid://ds7yasr5flsqu" path="res://HACKSOUL3.png" id="13_ilpty"]
[ext_resource type="Texture2D" uid="uid://bf1e4jo52mg5k" path="res://HACKSOUL4.png" id="14_1ku0v"]
[ext_resource type="Texture2D" uid="uid://bjd3s820q2d5q" path="res://HAAC_Art/PNGHACKMiserable1.png" id="15_ov51s"]
[ext_resource type="Texture2D" uid="uid://bb4ql0ythhcq7" path="res://HAAC_Art/PNGHACKQuestion1.png" id="16_sx48g"]
[ext_resource type="Texture2D" uid="uid://bjk3tmbq81wvq" path="res://HAAC_Art/PNGHACKSad1.png" id="17_35noj"]
[ext_resource type="Texture2D" uid="uid://sssv2k7f75po" path="res://HAAC_Art/PNGHACKTalkingClosed1.png" id="18_ue01e"]
[ext_resource type="Texture2D" uid="uid://btsb05g0ym8m1" path="res://HAAC_Art/PNGHACKTalkingOpen1.png" id="19_5dvqr"]
[ext_resource type="Texture2D" uid="uid://b46mokl42m4cv" path="res://HAAC_Art/PNGHACKThink1.png" id="20_fimgl"]
[ext_resource type="Script" path="res://Speech.gd" id="26_2riiv"]
[ext_resource type="Script" path="res://bubble.gd" id="26_ak4gw"]
[ext_resource type="Script" path="res://dialouge_manager.gd" id="26_oeq1l"]
[ext_resource type="AudioStream" uid="uid://dgbjuhc37curm" path="res://The Devil Plays Plinko.mp3" id="27_6umug"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_jwu4b"]

[sub_resource type="CircleShape2D" id="CircleShape2D_x5qog"]
radius = 600.0

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_jjg6k"]
bounce = 0.7

[sub_resource type="CircleShape2D" id="CircleShape2D_2bnxy"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_00t77"]
bounce = 0.4

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jaakm"]
size = Vector2(16, 12)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_7wb4y"]
bounce = 1.0
absorbent = true

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_fbslg"]
friction = 0.0
bounce = 1.0

[sub_resource type="SpriteFrames" id="SpriteFrames_xxycf"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_aw83s")
}],
"loop": true,
"name": &"dead",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_oatle")
}],
"loop": true,
"name": &"devil_normal",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_ttu80")
}, {
"duration": 1.0,
"texture": ExtResource("13_0qccx")
}],
"loop": true,
"name": &"devil_talk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_cqxkd")
}],
"loop": true,
"name": &"happy",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_ov51s")
}],
"loop": true,
"name": &"miserable",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("16_sx48g")
}],
"loop": true,
"name": &"question",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17_35noj")
}],
"loop": true,
"name": &"sad",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("18_ue01e")
}, {
"duration": 1.0,
"texture": ExtResource("19_5dvqr")
}],
"loop": true,
"name": &"talking",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("20_fimgl")
}],
"loop": true,
"name": &"think",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_rtaw0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_tn2iv")
}, {
"duration": 1.0,
"texture": ExtResource("12_al33d")
}, {
"duration": 1.0,
"texture": ExtResource("13_ilpty")
}, {
"duration": 1.0,
"texture": ExtResource("14_1ku0v")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Plinko" type="Node2D"]
script = ExtResource("1_hghkl")

[node name="Ball" type="RigidBody2D" parent="."]
editor_description = "ball"
position = Vector2(-157, -147)
mass = 0.077
physics_material_override = SubResource("PhysicsMaterial_jwu4b")
gravity_scale = 0.0
can_sleep = false
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Ball"]
scale = Vector2(0.11, 0.11)
texture = ExtResource("2_dre8r")
offset = Vector2(300, 130)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ball"]
scale = Vector2(0.013, 0.013)
shape = SubResource("CircleShape2D_x5qog")

[node name="Peg" type="RigidBody2D" parent="."]
position = Vector2(-234, -207)
physics_material_override = SubResource("PhysicsMaterial_jjg6k")
gravity_scale = 0.0
can_sleep = false
freeze = true
script = ExtResource("2_73qfo")
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Peg"]
scale = Vector2(0.05, 0.05)
texture = ExtResource("4_obq3l")
offset = Vector2(-160, 60)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Peg"]
scale = Vector2(0.5, 0.5)
shape = SubResource("CircleShape2D_2bnxy")

[node name="Bucket" type="RigidBody2D" parent="."]
z_index = 2
position = Vector2(-224, -123)
physics_material_override = SubResource("PhysicsMaterial_00t77")
gravity_scale = 0.0
can_sleep = false
freeze = true
script = ExtResource("5_uq8cn")
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Bucket"]
position = Vector2(-4.76837e-07, -2)
scale = Vector2(0.17, 0.116)
texture = ExtResource("6_3dtiq")
offset = Vector2(85.88, -76.89)

[node name="Label" type="Label" parent="Bucket/Sprite2D"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -100.0
offset_top = -69.0
offset_right = -3734.0
offset_bottom = -2072.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 30
theme_override_fonts/font = ExtResource("7_0267x")
theme_override_font_sizes/font_size = 160
text = "x5.25"
horizontal_alignment = 1
autowrap_mode = 1

[node name="Border" type="CollisionPolygon2D" parent="Bucket"]
polygon = PackedVector2Array(18, 11, -8, 11, -18, 11, -18, -15, -8, -11, -8, 5, 8, 5, 8, -11, 18, -15)

[node name="Detection" type="Area2D" parent="Bucket"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bucket/Detection"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_jaakm")

[node name="Absorb" type="RigidBody2D" parent="Bucket"]
physics_material_override = SubResource("PhysicsMaterial_7wb4y")
gravity_scale = 0.0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Bucket/Absorb"]
polygon = PackedVector2Array(-8, -10, -8, 4, 8, 4, 8, -10, 9, -10, 9, 6, -9, 6, -9, -10)

[node name="Money" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 7
theme_override_fonts/font = ExtResource("7_0267x")
theme_override_font_sizes/font_size = 150
text = "$5.32"

[node name="BallsCount" type="Label" parent="."]
offset_left = 884.0
offset_top = 116.0
offset_right = 1147.0
offset_bottom = 176.0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 7
theme_override_fonts/font = ExtResource("7_0267x")
theme_override_font_sizes/font_size = 60
text = "Balls: 1 / 1"

[node name="DayCount" type="Label" parent="."]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 865.0
offset_top = 10.0
offset_right = 1128.0
offset_bottom = 113.0
grow_horizontal = 0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 7
theme_override_fonts/font = ExtResource("7_0267x")
theme_override_font_sizes/font_size = 150
text = "Day 1"
horizontal_alignment = 2

[node name="Debug" type="Label" parent="."]
visible = false
offset_left = 237.0
offset_right = 991.0
offset_bottom = 192.0
theme_override_font_sizes/font_size = 100
text = "DEBUG MODE"

[node name="BallPreview" type="Sprite2D" parent="."]
modulate = Color(0.521141, 0.521141, 0.521141, 1)
position = Vector2(-157, -119)
scale = Vector2(0.13, 0.13)
texture = ExtResource("2_dre8r")
offset = Vector2(300, 130)

[node name="Background" type="Sprite2D" parent="."]
z_index = -2
position = Vector2(564, 325)
scale = Vector2(0.31713, 0.31713)
texture = ExtResource("8_n4je3")

[node name="NextDay" type="TextureButton" parent="."]
offset_left = 989.0
offset_top = 341.0
offset_right = 1117.0
offset_bottom = 469.0
texture_normal = ExtResource("9_edg7b")
script = ExtResource("10_y3yn1")

[node name="Label" type="Label" parent="NextDay"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Next Day"

[node name="Man" type="RigidBody2D" parent="."]
physics_material_override = SubResource("PhysicsMaterial_fbslg")
freeze = true

[node name="Man" type="AnimatedSprite2D" parent="Man"]
position = Vector2(115, 548)
scale = Vector2(0.22662, 0.22662)
sprite_frames = SubResource("SpriteFrames_xxycf")
animation = &"think"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Man"]
polygon = PackedVector2Array(23, 600, 22, 626, 233, 626, 221, 588, 174, 527, 128, 512, 89, 518, 43, 554)

[node name="Soul" type="AnimatedSprite2D" parent="."]
position = Vector2(1024, 250)
scale = Vector2(0.156019, 0.156019)
sprite_frames = SubResource("SpriteFrames_rtaw0")
frame = 3

[node name="Bubble" type="Sprite2D" parent="."]
z_index = 8
position = Vector2(246, 277)
scale = Vector2(0.211111, 0.211111)
script = ExtResource("26_ak4gw")

[node name="Speech" type="TextEdit" parent="Bubble"]
anchors_preset = -1
anchor_left = -1043.85
anchor_top = -486.796
offset_left = -93.1499
offset_top = 12.796
offset_right = 40.0
offset_bottom = 876.0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 7
theme_override_fonts/font = ExtResource("7_0267x")
theme_override_font_sizes/font_size = 200
text = "You've lived a bad life, and now you're in the afterlife. You want a second chance, so you made a deal with the devil. You need to get 10 million dollars. You can get it by working for hundreds of years, or you could gamble it all for a chance to win BIG. Luckily, you have $5.32 from your wallet when you died. That's more than enough to gamble! And besides, most gamblers quit before they win big, so naturally, you won't quit, right? But be careful when you're gambling! If you lose too much, you'll be the devil's indentured servant...
"
wrap_mode = 1
scroll_smooth = true
script = ExtResource("26_2riiv")

[node name="Dialogue" type="AudioStreamPlayer2D" parent="Bubble"]
position = Vector2(-3249.47, -1245.79)
scale = Vector2(4.73684, 4.73684)
panning_strength = 0.0

[node name="Music" type="AudioStreamPlayer2D" parent="Bubble"]
position = Vector2(-3249.47, -1245.79)
scale = Vector2(4.73684, 4.73684)
stream = ExtResource("27_6umug")
volume_db = -10.511

[node name="DialogueManager" type="Node" parent="."]
script = ExtResource("26_oeq1l")

[connection signal="body_shape_entered" from="Bucket" to="Bucket" method="_on_body_shape_entered"]
[connection signal="body_entered" from="Bucket/Detection" to="Bucket" method="_on_detection_body_entered"]
[connection signal="pressed" from="NextDay" to="." method="_on_next_day_pressed"]
[connection signal="finished" from="Bubble/Dialogue" to="Bubble" method="_on_audio_stream_player_2d_finished"]
[connection signal="finished" from="Bubble/Music" to="." method="_on_music_finished"]
